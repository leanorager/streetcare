---
interface Props {
  /** Baggrundsbillede */
  imageSrc: string;
  imageAlt?: string;

  /** Rød label øverst til venstre – fx "Interview" */
  labelText?: string;
  /** Gør label til et link (valgfrit) */
  labelHref?: string;

  /** Overskrift nederst i kortet */
  title: string;
  /** Brødtekst under overskriften */
  subtitle: string;

  /** Link for hele kortet / pil-ikonet (valgfrit) */
  href?: string;

  /** Ekstra Tailwind-klasser udefra (valgfrit) */
  className?: string;
}

const {
  imageSrc,
  imageAlt = "",
  labelText = "",
  labelHref,
  title,
  subtitle,
  href,
  className = "",
} = Astro.props;

const wrapperClasses =
  "group relative overflow-hidden rounded-[20px] bg-black text-white " +
  "w-[440px] h-[530px]";
---

<article class={wrapperClasses + " " + className}>
  {/* Baggrundsbillede */}
  <img
    src={imageSrc}
    alt={imageAlt}
    class="absolute inset-0 h-full w-full object-cover"
    loading="lazy"
  />

  {/* Mørk gradient nedefra */}
  <div
    class="pointer-events-none absolute inset-0
           bg-gradient-to-t from-black via-black/80 to-black/10"
  >
  </div>

  {/* Topbar: rød label + pil */}
  <div
    class="absolute inset-x-0 top-0 z-10 flex items-start justify-between p-5"
  >
    {/* Rød label LAVET GRÅ?*/}
    {
      labelText &&
        (labelHref ? (
          <a
            href={labelHref}
            class="inline-flex items-center rounded-full bg-grey/70 backdrop-blur-sm px-5 py-2 p-base-med"
          >
            {labelText}
          </a>
        ) : (
          <span class="inline-flex items-center rounded-full bg-grey/70 backdrop-blur-sm px-5 py-2 p-base-med">
            {labelText}
          </span>
        ))
    }

    {/* Pil-ikon – baggrund fast, ikon roterer på hover */}
    {
      href && (
        <a
          href={href}
          class="flex h-10 w-10 items-center justify-center 
               rounded-full bg-grey/70 backdrop-blur-sm"
          aria-label="Åbn"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 origin-center transition-transform duration-300 ease-out group-hover:rotate-90"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M7 17L17 7M9 7h8v8"
            />
          </svg>
        </a>
      )
    }
  </div>

  {/* Tekst nederst */}
  <div class="absolute bottom-0 inset-x-0 z-10 p-5 pb-8">
    <h2 class="mb-2 h5 leading-snug">
      {title}
    </h2>

    <h2 class="">
      {subtitle}
    </h2>
  </div>

  {/* Gør hele kortet klikbart, hvis href er sat */}
  {
    href && (
      <a
        href={href}
        class="absolute inset-0 z-0"
        aria-hidden="true"
        tabindex="-1"
      />
    )
  }
</article>

---
import Heading from "./Heading.astro";
import Text from "./Text.astro";
import SubtleLink from "./SubtleLink.astro";

const partnerLogos = [
  { src: "/svg/lunar.svg", alt: "Lunar" },
  { src: "/svg/lego.svg", alt: "LEGO" },
  { src: "/svg/foetex.svg", alt: "føtex" },
  { src: "/svg/maersk.svg", alt: "Maersk" },
  { src: "/svg/spejder-sport.svg", alt: "Spejder Sport" },
  { src: "/svg/rema1000.svg", alt: "REMA 1000" },
];

// IMPORTANT: gør rækken lang nok, så du IKKE ser duplikatet “inde i view’et”
const row = [
  ...partnerLogos,
  ...partnerLogos,
  ...partnerLogos,
  ...partnerLogos,
];
---

{/* Partner-banner (OVER footer) */}
<section class="border-t border-dark-grey bg-white overflow-x-hidden">
  <div class="py-[22px]">
    <div class="sc-marquee-track flex w-max items-center">
      {/* Gruppe A */}
      <div class="flex items-center gap-[70px] pr-[70px]">
        {
          row.map((l) => (
            <img
              src={l.src}
              alt={l.alt}
              loading="lazy"
              class="h-[43px] w-auto flex-none opacity-50"
            />
          ))
        }
      </div>

      {/* Gruppe A igen (duplikat) */}
      <div class="flex items-center gap-[70px] pr-[70px]" aria-hidden="true">
        {
          row.map((l) => (
            <img
              src={l.src}
              alt=""
              loading="lazy"
              class="h-[43px] w-auto flex-none opacity-50"
            />
          ))
        }
      </div>
    </div>
  </div>
</section>

{/* Footer */}

<footer class="relative overflow-hidden bg-light-grey text-dark-grey">
  {/* Baggrunds-logomark */}
  <img
    src="/svg/logomark-footer.svg"
    alt="Street Care logomark"
    aria-hidden="true"
    class="pointer-events-none absolute right-[-120px] top-[-45px] w-[520px] md:right-[-20px] md:top-[-40px]"
  />

  {/* Indhold */}
  <div
    class="relative z-10 px-4 py-[96px] xl:px-[60px] md:pb-[250px] md:grid md:grid-cols-12 md:gap-[20px]"
  >
    <div class="md:col-start-1 md:col-end-4 xl:col-end-3">
      <Heading htmlheading="h6" size="h6" stylingclasses="mb-[8px]">
        Værestedet
      </Heading>
      <Text teksttype="p_base_med">Åbningstider</Text>
      <Text>Udvalgte onsdage 18–21</Text>
      <Text teksttype="p_base_med" stylingclasses="pt-[12px]">Adresse</Text>
      <SubtleLink
        href="https://www.google.com/maps/dir//Worsaaesvej+5,+1972+Frederiksberg/"
        teksttype="p_base_reg"
      >
        <Text>
          Evangeliekirken, <br /> Worsaaesvej 5, <br />1972 Frederiksberg
        </Text>
      </SubtleLink>
    </div>

    <div
      class="mt-[40px] md:mt-0 md:col-start-4 md:col-end-7 xl:col-start-3 xl:col-end-5"
    >
      <Heading htmlheading="h6" size="h6" stylingclasses="mb-[8px]">
        Gadeplansarbejde
      </Heading>
      <Text teksttype="p_base_med">Operative tidspunkter</Text>
      <Text>
        Tirsdag: 13.30-19.00<br />Onsdag: 12.30-16.30<br />Torsdag: 13.00-19.30
      </Text>
    </div>

    <div
      class="mt-[40px] md:mt-0 md:col-start-7 md:col-end-10 xl:col-start-5 xl:col-end-7"
    >
      <Heading htmlheading="h6" size="h6" stylingclasses="mb-[8px]">
        Kontakt
      </Heading>
      <Text teksttype="p_base_med">Vi er kun et opkald væk</Text>
      <SubtleLink href="tel:31142100" teksttype="p_base_reg">
        <Text>Tlf. 31 14 21 00</Text>
      </SubtleLink>
      <SubtleLink href="mailto:af@streetcare.dk" teksttype="p_base_reg">
        <Text>E-mail: af@streetcare.dk</Text>
      </SubtleLink>

      <Text teksttype="p_base_med" stylingclasses="pt-[12px]">Socials</Text>
      <SubtleLink
        href="https://www.instagram.com/street.care/"
        teksttype="p_base_reg"
      >
        <Text>Instagram</Text>
      </SubtleLink>
      <SubtleLink
        href="https://www.facebook.com/profile.php?id=100064936591901"
        teksttype="p_base_reg"
      >
        <Text>Facebook</Text>
      </SubtleLink>
      <SubtleLink href="#" teksttype="p_base_reg">
        <Text>LinkedIn</Text>
      </SubtleLink>
    </div>

    <div
      class="mt-[40px] md:mt-0 md:col-start-10 md:col-end-13 xl:col-start-7 xl:col-end-9"
    >
      <Heading htmlheading="h6" size="h6" stylingclasses="mb-[8px]">
        Regler & vilkår
      </Heading>
      <Text teksttype="p_base_med">Alt det formelle</Text>
      <Text>CVR. 41 63 46 42</Text>
      <SubtleLink href="#" teksttype="p_base_reg">
        <Text>Handelsbetingelser</Text>
      </SubtleLink>
      <SubtleLink href="#" teksttype="p_base_reg">
        <Text>Persondatapolitik</Text>
      </SubtleLink>
      <SubtleLink href="#" teksttype="p_base_reg">
        <Text>Cookieinformationer</Text>
      </SubtleLink>
    </div>

    <p class="mt-[20px] md:mt-0 md:row-start-2 md:col-start-1">&copy; 2025</p>
  </div>

  {/* Wordmark i bunden (croppet) */}
  <div class="pointer-events-none absolute inset-x-0 bottom-0 overflow-hidden">
    <img
      src="/svg/wordmark-footer.svg"
      alt="Street Care wordmark"
      aria-hidden="true"
      class="w-full h-auto translate-y-[10%] md:translate-y-[17%]"
    />
  </div>
</footer>

<style>
  /* Tracken indeholder A + A. Vi flytter præcis én A's bredde (= 50%) */
  .sc-marquee-track {
    will-change: transform;
    animation: sc-marquee 80s linear infinite;
  }

  @keyframes sc-marquee {
    from {
      transform: translate3d(0, 0, 0);
    }
    to {
      transform: translate3d(-50%, 0, 0);
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .sc-marquee-track {
      animation: none;
    }
  }
</style>

---
import MainLayout from "../layouts/MainLayout.astro";
import Link from "../components/Link.astro";
import Heading from "../components/Heading.astro";
import Text from "../components/Text.astro";
import Button from "../components/Button.astro";
import Bullet from "../components/Bullet.astro";
import NewsletterSignUp from "../components/NewsletterSignUp.astro";
import NewsCard from "../components/NewsCard.astro";
---

<MainLayout title="Forside">
  <main>
    <section class="bg-off-white px-4 lg:px-[60px] py-24">
      <div class="w-full flex flex-col items-center text-center">
        <img
          src="/img/heroTxtImg.png"
          alt="Street Care"
          loading="eager"
          class="w-full max-w-[980px] h-auto"
        />

        <Heading
          htmlheading="h1"
          size="h2"
          font="display"
          stylingclasses="text-red mt-[24px] text-[26px] md:text-[32px] lg:text-[36px] font-normal -rotate-[1.95deg]"
        >
          Vi står sammen med dem der står alene
        </Heading>

        <div class="mt-[24px] flex items-center justify-center gap-4">
          <Button variant="outline" href="/blivfrivillig">Bliv frivillig</Button
          >
          <Button variant="solid-red" href="/stoet">Støt os</Button>
        </div>
      </div>
    </section>
    <section id="donation" class="px-4 lg:px-[60px] py-20">
      <h2
        class="font-display text-[22px] lg:text-[40px] text-red text-center mb-[38px] lg:mb-[100px]"
      >
        Giv varme, hvor kulden rammer hårdest
      </h2>

      <div class="lg:grid lg:grid-cols-12 lg:gap-[40px] items-stretch">
        {/* Billede venstre */}
        <div class="lg:col-span-7">
          <img
            src="/img/man-and-dog.webp"
            alt="Mand sidder med sin hund på gaden"
            class="block w-full h-full object-cover"
          />
        </div>

        {/* Doner-kort højre */}
        <article
          class="mt-8 lg:mt-0 lg:col-span-5 bg-red rounded-[10px] px-[20px] py-[40px] lg:px-[50px] text-white flex flex-col lg:self-start"
        >
          <Heading htmlheading="h3" size="h3" stylingclasses="text-center">
            Vælg donation
          </Heading>
          <form class="mt-[24px] flex flex-col">
            {/* Engangsbeløb / månedlig */}
            <div class="flex gap-[24px] text-[16px]">
              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input
                  type="radio"
                  name="donation-type"
                  class="accent-transparent border-none"
                />
                <span>Engangsbeløb</span>
              </label>

              <label class="inline-flex items-center gap-2 cursor-pointer">
                <input
                  type="radio"
                  name="donation-type"
                  class="accent-white border-none"
                />
                <span>Månedlig donation</span>
              </label>
            </div>

            {/* Beløbs-knapper */}
            <div class="mt-[30px] grid grid-cols-2 gap-[12px] lg:grid-cols-3">
              {/* Gentag knap markup for hver beløbsmulighed */}
              <button
                type="button"
                class="w-full rounded-[5px] bg-white text-grey text-[16px] py-[10px] font-medium"
              >
                50 kr
              </button>
              <button
                type="button"
                class="w-full rounded-[5px] bg-white text-grey text-[16px] py-[10px] font-medium"
              >
                100 kr
              </button>
              <button
                type="button"
                class="w-full rounded-[5px] bg-white text-grey text-[16px] py-[10px] font-medium"
              >
                150 kr
              </button>
              <button
                type="button"
                class="w-full rounded-[5px] bg-white text-grey text-[16px] py-[10px] font-medium"
              >
                200 kr
              </button>
              <button
                type="button"
                class="w-full rounded-[5px] bg-white text-grey text-[16px] py-[10px] font-medium"
              >
                300 kr
              </button>
              <button
                type="button"
                class="w-full rounded-[5px] bg-white text-grey text-[16px] py-[10px] font-medium"
              >
                500 kr
              </button>
            </div>

            {/* Valgfrit beløb */}
            <div
              class="mt-[16px] flex items-center rounded-[5px] bg-white text-dark-grey"
            >
              <input
                type="number"
                name="custom-amount"
                min="1"
                placeholder="Indtast valgfrit beløb"
                class="flex-1 bg-transparent px-[12px] py-[10px] text-[16px] outline-none border-none"
              />
              <span class="pr-[12px] text-[16px]">kr.</span>
            </div>

            {/* CTA */}
            <div class="mt-[30px] flex justify-end">
              <Button variant="solid-white" type="submit">
                Start donation
              </Button>
            </div>
          </form>
        </article>
      </div>
    </section>
    <section id="indsats" class="px-4 py-20 lg:px-[60px]">
      <div class="lg:grid lg:grid-cols-12 lg:gap-[20px]">
        {/* VENSTRE: emnetekst + stor heading */}
        <div class="lg:col-span-8 lg:col-start-1 pb-10 lg:pb-[20px]">
          <Text teksttype="p_large_med" stylingclasses="text-dark-grey">
            Vores indsats
          </Text>

          <Heading>
            Vi står sammen med dem, der står alene.
            <span class="text-[var(--color-grey)]">
              {" "}
              Non-profit organisationen Street Care støtter Københavns mest udsatte
              - hjemløse, ensomme, misbrugsramte og psykisk sårbare - med nærvær,
              fællesskab og rådgivning. Ingen skal stå alene.
            </span>
          </Heading>
        </div>

        {/* BULLETS – 1 kolonne på mobil, 3 kolonner på desktop */}
        <div
          class="lg:col-span-12
        space-y-10
        lg:space-y-0
        lg:grid lg:grid-cols-3 lg:gap-x-[60px] lg:gap-y-[12px]"
        >
          <Bullet
            icon="work.svg"
            heading="Gadeplansarbejde"
            text="Vi laver opsøgende gadeplansarbejde 3-4 dage om ugen i København."
            stylingclasses="pt-[40px] lg:pt-[60px]"
          />

          <Bullet
            icon="house.svg"
            heading="Værested på Frederiksberg"
            text="Vi driver et værested på Frederiksberg, hvor vi skaber et trygt, varmt og åbent fællesskab."
            stylingclasses="pt-[40px] lg:pt-[60px]"
          />

          <Bullet
            icon="person.svg"
            heading="Mentor- og bisidderstøtte"
            text="Mentor- og bisidderstøtte, når livet og systemet bliver svært at navigere."
            stylingclasses="pt-[40px] lg:pt-[60px]"
          />

          <Bullet
            icon="cutlery.svg"
            heading="Fællesspisninger"
            text="Fællesspisninger byder på gratis mad og drikke, et varmt og trygt sted og nye relationer."
            stylingclasses="pt-[40px] lg:pt-[60px]"
          />

          <Bullet
            icon="compass.svg"
            heading="Aktiviteter og ture"
            text="Forskellige aktiviteter og ture skaber gode minder, nye venskaber og håb for fremtiden."
            stylingclasses="pt-[40px] lg:pt-[60px]"
          />

          <Bullet
            icon="phone.svg"
            heading="Telefonrådgivning"
            text="Telefonrådgivning, hvor man kan få hjælp, når hverdagen brænder på."
            stylingclasses="pt-[40px] lg:pt-[60px]"
          />
        </div>

        {/* KNAP – centreret mobil, højre på desktop */}
        <div
          class="mt-10 lg:mt-16
        lg:col-span-12
        flex justify-center lg:justify-end"
        >
          <Button variant="solid-red" href="/voresarbejde">
            Læs mere om vores arbejde
          </Button>
        </div>
      </div>
    </section>
    <!-- NYHEDER SECTION START -->
    <section class="bg-off-white px-4 py-16 lg:px-[60px]">
      <!-- Header -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-6">
          <Heading htmlheading="h2" size="h2">Seneste nyheder</Heading>
          <Link href="/nyheder" variant="action"> Se alle </Link>
        </div>

        <!-- Pile -->
        <div class="hidden lg:flex items-center gap-[10px]">
          <!-- VENSTRE PIL -->
          <button
            type="button"
            data-carousel-prev
            class="text-black/70 hover:text-black transition"
            aria-label="Scroll venstre"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 md:h-5 md:w-5 -rotate-135"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M7 17L17 7M9 7h8v8"></path>
            </svg>
          </button>

          <!-- HØJRE PIL -->
          <button
            type="button"
            data-carousel-next
            class="text-black/70 hover:text-black transition"
            aria-label="Scroll højre"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4 md:h-5 md:w-5 rotate-45"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M7 17L17 7M9 7h8v8"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- Horisontal scroll -->
      <div
        data-carousel
        class="mt-8
      overflow-x-auto
      scroll-smooth
      snap-x snap-mandatory
      [-ms-overflow-style:none]
      [scrollbar-width:none]
      [&::-webkit-scrollbar]:hidden"
      >
        <div
          data-carousel-track
          class="flex gap-6 lg:gap-[20px] w-max pr-4 lg:pr-[60px]"
        >
          <div class="snap-start">
            <NewsCard
              imageSrc="/img/CardImg1.png"
              imageAlt="Mand på gaden"
              labelText="Portræt"
              labelHref="/interviews"
              title="Fra tryghed til gaden:"
              subtitle="Vejen ind i hjemløshed og kampen tilbage"
              href="/artikler/fra-tryghed-til-gaden"
            />
          </div>

          <div class="snap-start">
            <NewsCard
              imageSrc="/img/CardImg2.png"
              imageAlt="Mand med hætte"
              labelText="Interview"
              labelHref="/interviews"
              title="Livet med et misbrug:"
              subtitle="En ærlig fortælling fra gaden"
              href="/artikler/livet-med-et-misbrug"
            />
          </div>

          <div class="snap-start">
            <NewsCard
              imageSrc="/img/CardImg3.png"
              imageAlt="Indenfor i varmestue"
              labelText="Reportage"
              labelHref="/reportager"
              title="Indenfor på varmestuen:"
              subtitle="Hvor håb og hjælp mødes"
              href="/artikler/indenfor-pa-varmestuen"
            />
          </div>

          <div class="snap-start">
            <NewsCard
              imageSrc="/img/CardImg4.png"
              imageAlt="Mørkt billede"
              labelText="Analyse"
              labelHref="/analyser"
              title="Nye tal afspejler:"
              subtitle="Danmarks udsathed"
              href="/artikler/nye-tal"
            />
          </div>
        </div>
      </div>

      <script>
        (() => {
          const scroller = document.querySelector("[data-carousel]");
          const track = document.querySelector("[data-carousel-track]");
          const prevBtn = document.querySelector("[data-carousel-prev]");
          const nextBtn = document.querySelector("[data-carousel-next]");

          if (!scroller || !track || !prevBtn || !nextBtn) return;

          // Finder "step" = første card bredde + gap (vi måler faktisk afstand mellem item 1 og 2)
          const getStep = () => {
            const items = track.children;
            if (items.length < 2) return 300;
            const a = items[0].getBoundingClientRect();
            const b = items[1].getBoundingClientRect();
            return Math.round(b.left - a.left); // card + gap
          };

          const scrollByStep = (dir) => {
            const step = getStep();
            scroller.scrollBy({ left: dir * step, behavior: "smooth" });
          };

          prevBtn.addEventListener("click", () => scrollByStep(-1));
          nextBtn.addEventListener("click", () => scrollByStep(1));
        })();
      </script>
    </section>

    <!-- GADEPLANSARBEJDE SECTION START -->
    <section id="gadeplansarbejde" class="h-[570px]">
      <div
        class="px-4 lg:px-[60px] grid grid-cols-5 gap-6 md:grid-cols-12 md:gap-10 h-full"
      >
        <div class="col-span-5 md:col-span-5 flex flex-col">
          <Text teksttype="p_small_reg" stylingclasses="text-grey70 mb-[5px]">
            Gadeplansarbejde
          </Text>

          <Heading
            htmlheading="h2"
            size="h2"
            stylingclasses="mb-[20px] text-black"
          >
            På gaden – dér hvor livet leves, og hvor vi møder mennesker i
            øjenhøjde
          </Heading>

          <Text
            teksttype="p_base_reg"
            stylingclasses="text-dark-grey md:pr-12 mb-[5px]"
          >
            Vores gadeplansteam besøger hver uge faste steder i København:
            Christianshavns Torv, Enghave Plads, Hulgårds Plads, Den Grønne
            Plads i Sydhavnen, Sundholm og flere andre. Vi kommer ikke forbi,
            fordi vi kan knipse med fingrene og “løse problemerne” – vi kommer
            for at møde mennesker. For mange er vi et fast punkt i hverdagen: en
            samtale, et smil, en kop kaffe og et rum, hvor man kan være sig
            selv.
          </Text>

          <Link href="/lokationer" variant="primary">Se alle lokationer</Link>
        </div>

        <div class="col-span-5 md:col-span-4 flex items-start h-full">
          <img
            src="/img/huggingHomeless.png"
            alt="Gadeplansarbejde"
            class="w-full object-cover max-h-[570px]"
          />
        </div>

        <div
          class="col-span-5 md:col-span-3 bg-light-grey rounded-[16px] p-6 flex flex-col gap-4 h-[300px]"
        >
          <Heading htmlheading="h4" size="h4" stylingclasses="text-dark-red">
            Tider for gadeplans-arbejde
          </Heading>

          <Text teksttype="p_base_reg" stylingclasses="text-dark-grey">
            Tirsdag: 13.30–19.00<br />
            Onsdag: 12.30–16.30<br />
            Torsdag: 13.00–19.30
          </Text>
        </div>
      </div>
    </section>
    <!-- GADEPLANSARBEJDE SLUT -->
    <section
      id="vaerestedet"
      class="bg-light-grey px-4 py-20 lg:px-[60px] lg:grid lg:grid-cols-12 lg:gap-[20px]"
    >
      <div class="lg:col-start-1 lg:col-end-6 pb-10 lg:pb-[20px]">
        <Text teksttype="p_large_med" stylingclasses="text-dark-grey">
          Værestedet
        </Text>
        <Heading>
          Et trygt sted at lande, når man har brug for varme, mad og
          menneskelighed
        </Heading>
        <Text stylingclasses="mt-[20px]">
          Vores værested på Frederiksberg er et åbent og trygt fællesskab for
          hjemløse og udsatte, hvor man kan puste ud, blive mødt i øjenhøjde,
          grine lidt og få en pause fra gaden og hverdagens pres. Et sted med
          nærvær, ro og varme – et frirum, hvor relationer og omsorg betyder
          noget. Her får man:
        </Text>
      </div>
      <div class="lg:col-start-9 lg:col-end-13">
        <img
          src="/img/vaerestedet.webp"
          alt="Værestedet Street Care"
          class="block w-full h-auto object-cover"
        />
        <Text teksttype="p_small_reg" stylingclasses="mt-[4px] text-dark-grey">
          Evangeliekirken, Worsaaesvej 5, Frederiksberg
        </Text>
        <Text teksttype="p_small_reg" stylingclasses="text-dark-grey">
          Åbent udvalgte onsdage 18–21
        </Text>
      </div>
      <Bullet
        icon="cutlery.svg"
        heading="Gratis mad"
        text="Og kolde og varme drikke til at fylde depoterne op."
        stylingclasses="pt-[40px] lg:pt-[60px] lg:col-start-1 lg:col-end-4"
      />
      <Bullet
        icon="two-people.svg"
        heading="Fællesskab"
        text="I et roligt og trygt rum uden krav."
        stylingclasses="pt-[40px] lg:pt-[60px] lg:col-start-4 lg:col-end-7"
      />
      <Bullet
        icon="talking.svg"
        heading="Samtaler"
        text="Med frivillige og andre bekendtskaber."
        stylingclasses="pt-[40px] lg:pt-[60px] lg:col-start-7 lg:col-end-10"
      />
      <Bullet
        icon="disco.svg"
        heading="Arrangementer"
        text="Såsom musik, banko og quizzer."
        stylingclasses="pt-[40px] lg:pt-[60px] lg:col-start-10 lg:col-end-13"
      />
    </section>
    <section id="nyhedsbrev" class="px-4 lg:px-[60px] py-[100px]">
      <NewsletterSignUp />
    </section>
  </main>
</MainLayout>
